<div
class="flex gap-2 min-h-screen items-center justify-center bg-background"
>
<div
  class="w-full max-w-[400px] ml-[200px] p-10 rounded-2xl shadow-xl bg-surface-container border border-outline-variant"
>
  <h1 class="text-2xl mb-2 text-on-surface">{{ 'LOGIN.title' | translate }}</h1>
  <div class="flex gap-1 mb-8 text-sm text-on-surface">
    <span>{{ "LOGIN.dontHaveAccount" | translate }}</span>
  <a class="text-primary cursor-pointer" tabindex="0" (click)="register()" (keyup.enter)="register()">{{'REGISTER.registerButton' | translate}}</a>
  </div>


<div class="flex gap-1 mb-8 text-sm text-on-surface">
    <span>{{ "LOGIN.forgotPassword" | translate }}</span>
  <a class="text-primary cursor-pointer" tabindex="0" (click)="forgotPassword()" (keyup.enter)="forgotPassword()">{{'FORGOTPWD.submitButton' | translate}}</a>
</div>

<form  class="flex flex-col gap-5" >
      <mat-form-field class="w-full">
        <mat-label>{{ 'LOGIN.emailLabel' | translate }}</mat-label>
        <input matInput [field]="userLoginForm.email"
          placeholder="{{ 'LOGIN.emailPlaceholder' | translate }}"
          type="email" />
        <mat-icon matSuffix>email</mat-icon>
        <lib-field-error [fieldError]="userLoginForm.email()" />
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>{{ 'LOGIN.passwordLabel' | translate }}</mat-label>
          @if (hidePassword()) {
            <input
              matInput
              [field]="userLoginForm.password"
              placeholder="{{ 'LOGIN.passwordPlaceholder' | translate }}"
              type="password"
            />
          } @else {
            <input
              matInput
              [field]="userLoginForm.password"
              placeholder="{{ 'LOGIN.passwordPlaceholder' | translate }}"
              type="text"
            />
          }

        <button
          mat-icon-button
          matSuffix
          (click)="hidePassword.set(!hidePassword())"
          type="button"
          class="mr-1"
        >
          <mat-icon>{{
            hidePassword() ? 'visibility_off' : 'visibility'
          }}</mat-icon>
        </button>
        <lib-field-error [fieldError]="userLoginForm.password()" />
      </mat-form-field>

      <!-- <button  mat-flat-button class="w-full mt-3"
        type="submit"
        [disabled]="!userLoginForm().valid()">
        {{ 'LOGIN.loginButton' | translate }}
      </button> -->

      <button mat-flat-button class="w-full mt-3"
        type="button"
        [disabled]="userLoginForm().invalid()"
        (click)="submitForm()">
        {{ 'LOGIN.loginButton' | translate }}
      </button>


    </form>

  <div class="flex gap-3 mb-8 text-sm text-on-surface">
    <br><br>
    <span>{{ "LOGIN.wantToCancel" | translate }}</span>
      <a class="text-primary cursor-pointer" tabindex="0" (click)="cancel()" (keyup.enter)="cancel()">{{'LOGIN.cancelButton' | translate}}</a>
  </div>
  </div>


<mat-card class="debug-card">
      <mat-card-header>
        <mat-card-title>Form Data</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <pre class="debug-pre">{{ userLoginForm().value() | json }}</pre>
        <pre class="debug-pre">{{ userLoginForm().errorSummary() | json }}</pre>
      </mat-card-content>
</mat-card>


